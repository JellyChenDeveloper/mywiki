(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{556:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"ubuntu安装shadowsocks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu安装shadowsocks"}},[s._v("#")]),s._v(" ubuntu安装shadowsocks")]),s._v(" "),a("h2",{attrs:{id:"安装shadowsocks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装shadowsocks"}},[s._v("#")]),s._v(" 安装shadowsocks")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" python\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" python-gevent python-pip\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" setuptools\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" shadowsocks\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" python-m2crypto\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"配置shadowsocks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置shadowsocks"}},[s._v("#")]),s._v(" 配置shadowsocks")]),s._v(" "),a("p",[s._v("创建shawdowsocks.json配置文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /etc/shadowsocks\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/shadowsocks\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/shadowsocks/config.json\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("插入一下内容：")]),s._v(" "),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"server"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.0.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"server_port"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8961")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"local_port"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"password"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"451453325"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"timeout"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"method"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"aes-256-cfb"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("备注：主机ip为\ufeff45.32.177.150")]),s._v(" "),a("h2",{attrs:{id:"启动和停止"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动和停止"}},[s._v("#")]),s._v(" 启动和停止")]),s._v(" "),a("p",[s._v("启动：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("ssserver -c /etc/shadowsocks/config.json -d start\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("停止：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("ssserver -c /etc/shadowsocks/config.json -d stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"创建启动和停止脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建启动和停止脚本"}},[s._v("#")]),s._v(" 创建启动和停止脚本")]),s._v(" "),a("p",[s._v("命令很有可能忘记，所以写了启动和停止的脚本放在家目录下，执行就好：")]),s._v(" "),a("h4",{attrs:{id:"启动脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动脚本"}},[s._v("#")]),s._v(" 启动脚本")]),s._v(" "),a("p",[s._v("创建脚本")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" ssr_start.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x ssr_start.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ssr_start.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("编辑内容")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\nssserver -c /etc/shadowsocks/config.json -d start\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("执行：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./ssr_start.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"停止脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#停止脚本"}},[s._v("#")]),s._v(" 停止脚本")]),s._v(" "),a("p",[s._v("创建脚本")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" ssr_stop.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x ssr_stop.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ssr_stop.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("编辑内容")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\nssserver -c /etc/shadowsocks/config.json -d stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("执行：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./ssr_stop.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"查看端口链接信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看端口链接信息"}},[s._v("#")]),s._v(" 查看端口链接信息")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -apn "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8961")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"错误处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#错误处理"}},[s._v("#")]),s._v(" 错误处理")]),s._v(" "),a("h3",{attrs:{id:"undefined-symbol-evp-cipher-ctx-cleanup错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#undefined-symbol-evp-cipher-ctx-cleanup错误"}},[s._v("#")]),s._v(" undefined symbol: EVP_CIPHER_CTX_cleanup错误")]),s._v(" "),a("p",[s._v("最近将kali升级到了最新版本，编译之后shadowsocks无法启动，报错如下：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("-11-30 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":42:39 INFO     loading libcrypto from libcrypto.so.1.1\nTraceback "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("most recent call last"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/bin/ssserver"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    load_entry_point"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'shadowsocks==2.8.2'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'console_scripts'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ssserver'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/lib/python2.7/dist-packages/shadowsocks/server.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" main\n    config "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" shell.get_config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("False"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/lib/python2.7/dist-packages/shadowsocks/shell.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("262")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" get_config\n    check_config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config, is_local"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/lib/python2.7/dist-packages/shadowsocks/shell.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("124")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" check_config\n    encrypt.try_cipher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'method'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/lib/python2.7/dist-packages/shadowsocks/encrypt.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" try_cipher\n    Encryptor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key, method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/lib/python2.7/dist-packages/shadowsocks/encrypt.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" __init__\n    random_string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self._method_info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v("\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/lib/python2.7/dist-packages/shadowsocks/encrypt.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("109")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" get_cipher\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("method, key, iv, "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("op")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/lib/python2.7/dist-packages/shadowsocks/crypto/openssl.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("76")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" __init__\n    load_openssl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/lib/python2.7/dist-packages/shadowsocks/crypto/openssl.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" load_openssl\n    libcrypto.EVP_CIPHER_CTX_cleanup.argtypes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c_void_p,"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/lib/python2.7/ctypes/__init__.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("379")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" __getattr__\n    func "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self.__getitem__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  File "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/lib/python2.7/ctypes/__init__.py"')]),s._v(", line "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("384")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" __getitem__\n    func "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self._FuncPtr"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v("name_or_ordinal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),s._v("\nAttributeError: /usr/lib/x86_64-linux-gnu/libcrypto.so.1.1: undefined symbol: EVP_CIPHER_CTX_cleanup\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("p",[s._v("这个问题是由于在openssl1.1.0版本中，废弃了EVP_CIPHER_CTX_cleanup函数，如官网中所说：")]),s._v(" "),a("blockquote",[a("p",[s._v("EVP_CIPHER_CTX was made opaque in OpenSSL 1.1.0. As a result, EVP_CIPHER_CTX_reset() appeared and EVP_CIPHER_CTX_cleanup() disappeared.\nEVP_CIPHER_CTX_init() remains as an alias for EVP_CIPHER_CTX_reset().")])]),s._v(" "),a("p",[s._v("修改方法：")]),s._v(" "),a("ol",[a("li",[s._v("用vim打开文件：vim /usr/local/lib/python2.7/dist-packages/shadowsocks/crypto/openssl.py (该路径请根据自己的系统情况自行修改，如果不知道该文件在哪里的话，可以使用find命令查找文件位置)")]),s._v(" "),a("li",[s._v("跳转到52行（shadowsocks2.8.2版本，其他版本搜索一下cleanup）")]),s._v(" "),a("li",[s._v("进入编辑模式")]),s._v(" "),a("li",[s._v("将第52行libcrypto.EVP_CIPHER_CTX_"),a("code",[s._v("cleanup")]),s._v(".argtypes = (c_void_p,)")]),s._v(" "),a("li",[s._v("改为libcrypto.EVP_CIPHER_CTX_"),a("code",[s._v("reset")]),s._v(".argtypes = (c_void_p,)")]),s._v(" "),a("li",[s._v("再次搜索 cleanup（全文件共2处，此处位于111行），将libcrypto.EVP_CIPHER_CTX_"),a("code",[s._v("cleanup")]),s._v("(self._ctx)")]),s._v(" "),a("li",[s._v("改为libcrypto.EVP_CIPHER_CTX_"),a("code",[s._v("reset")]),s._v("(self._ctx)")]),s._v(" "),a("li",[s._v("保存并退出")]),s._v(" "),a("li",[s._v("启动shadowsocks服务：service shadowsocks start 或 sslocal -c ss配置文件目录\n问题解决")])]),s._v(" "),a("h2",{attrs:{id:"附录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附录"}},[s._v("#")]),s._v(" 附录")]),s._v(" "),a("h3",{attrs:{id:"vultr-ip检测"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vultr-ip检测"}},[s._v("#")]),s._v(" vultr IP检测")]),s._v(" "),a("p",[s._v("国内扫描站："),a("a",{attrs:{href:"http://coolaf.com/tool/port",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://coolaf.com/tool/port"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("国外扫描站："),a("a",{attrs:{href:"https://www.yougetsignal.com/tools/open-ports/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.yougetsignal.com/tools/open-ports/"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("全球ping测试："),a("a",{attrs:{href:"https://tools.ipip.net/ping.php",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://tools.ipip.net/ping.php"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);